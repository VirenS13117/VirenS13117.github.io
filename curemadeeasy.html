<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CureMadeEasy - Healthcare Platform</title>
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      color: #333;
    }
    
    /* Header */
    .header {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .logo {
      color: white;
      font-size: 1.5rem;
      font-weight: bold;
    }
    
    .back-btn {
      color: white;
      text-decoration: none;
      padding: 8px 16px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 6px;
      transition: all 0.3s;
    }
    
    .back-btn:hover {
      background: rgba(255, 255, 255, 0.1);
    }
    
    /* Main Content */
    .main-content {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem;
    }
    
    .login-container {
      background: white;
      padding: 3rem;
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      max-width: 450px;
      width: 100%;
    }
    
    .welcome-section {
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .welcome-section h1 {
      color: #1f2937;
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    
    .welcome-section p {
      color: #666;
      font-size: 1rem;
      line-height: 1.5;
    }
    
    /* Auth Toggle Buttons */
    .auth-toggle {
      display: flex;
      background: #f1f5f9;
      border-radius: 8px;
      padding: 4px;
      margin-bottom: 2rem;
    }
    
    .toggle-btn {
      flex: 1;
      padding: 12px;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 600;
      color: #666;
      transition: all 0.3s;
    }
    
    .toggle-btn.active {
      background: white;
      color: #667eea;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Login Form Styles */
    .auth-form {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-bottom: 2rem;
    }
    
    .register-form {
      display: none;
      flex-direction: column;
      gap: 20px;
      margin-bottom: 2rem;
    }
    
    .form-group {
      display: flex;
      flex-direction: column;
    }
    
    .form-group label {
      font-size: 14px;
      color: #1f2937;
      margin-bottom: 6px;
      font-weight: 500;
    }
    
    .form-group input {
      padding: 14px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 16px;
      transition: all 0.3s;
    }
    
    .form-group input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }
    
    .email-login-btn, .email-register-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 14px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      background: #667eea;
      color: white;
      transition: all 0.3s;
    }
    
    .email-login-btn:hover, .email-register-btn:hover {
      background: #5a67d8;
      transform: translateY(-2px);
    }
    
    .password-strength {
      font-size: 12px;
      margin-top: 5px;
      padding: 5px;
      border-radius: 4px;
      display: none;
    }
    
    .password-strength.weak {
      background: #fef2f2;
      color: #dc2626;
      display: block;
    }
    
    .password-strength.medium {
      background: #fef3c7;
      color: #d97706;
      display: block;
    }
    
    .password-strength.strong {
      background: #f0fdf4;
      color: #16a34a;
      display: block;
    }
    
    .divider {
      display: flex;
      align-items: center;
      margin: 20px 0;
      color: #666;
      font-size: 14px;
    }
    
    .divider::before,
    .divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: #e5e7eb;
    }
    
    .divider span {
      padding: 0 15px;
    }
    
    .gmail-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 12px 20px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      background: white;
      color: #333;
      transition: all 0.3s;
    }
    
    .gmail-btn:hover {
      background: #f9fafb;
      transform: translateY(-2px);
    }
    
    /* User Info */
    .user-info {
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      text-align: center;
    }
    
    .user-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: 3px solid #667eea;
    }
    
    .user-name {
      font-size: 1.2rem;
      font-weight: bold;
      color: #1f2937;
    }
    
    .user-email {
      color: #666;
      font-size: 0.9rem;
    }
    
    .logout-btn {
      padding: 10px 20px;
      background: #ef4444;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      margin-top: 10px;
      transition: background 0.3s;
    }
    
    .logout-btn:hover {
      background: #dc2626;
    }
    
    .success-message {
      display: none;
      text-align: center;
      color: #059669;
      font-size: 1.1rem;
      margin-top: 1rem;
    }
    
    /* FAQ Section */
    .faq-section {
      background: rgba(255, 255, 255, 0.95);
      padding: 3rem 2rem;
      margin-top: auto;
    }
    
    .faq-container {
      max-width: 800px;
      margin: 0 auto;
    }
    
    .faq-title {
      text-align: center;
      font-size: 2rem;
      color: #1f2937;
      margin-bottom: 2rem;
    }
    
    .faq-item {
      background: white;
      border-radius: 12px;
      margin-bottom: 1rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      overflow: hidden;
    }
    
    .faq-question {
      padding: 1.5rem;
      background: #f8fafc;
      border: none;
      width: 100%;
      text-align: left;
      font-size: 1.1rem;
      font-weight: 600;
      color: #1f2937;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background 0.3s;
    }
    
    .faq-question:hover {
      background: #f1f5f9;
    }
    
    .faq-question::after {
      content: '+';
      font-size: 1.5rem;
      color: #667eea;
      transition: transform 0.3s;
    }
    
    .faq-question.active::after {
      transform: rotate(45deg);
    }
    
    .faq-answer {
      padding: 0 1.5rem;
      max-height: 0;
      overflow: hidden;
      transition: all 0.3s;
      color: #666;
      line-height: 1.6;
    }
    
    .faq-answer.active {
      padding: 1.5rem;
      max-height: 200px;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .header {
        padding: 1rem;
      }
      
      .main-content {
        padding: 1rem;
      }
      
      .login-container {
        padding: 2rem;
        margin: 1rem;
      }
      
      .welcome-section h1 {
        font-size: 1.5rem;
      }
      
      .faq-section {
        padding: 2rem 1rem;
      }
      
      .faq-title {
        font-size: 1.5rem;
      }
    }
    
    /* Notification System */
    .notification {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 12px 24px;
      border-radius: 6px;
      color: white;
      font-weight: bold;
      z-index: 3000;
      transition: opacity 0.3s;
    }
    
    .notification.success {
      background: #10b981;
    }
    
    .notification.error {
      background: #ef4444;
    }
  </style>
</head>
<body>

<!-- Header -->
<div class="header">
  <div class="logo">CureMadeEasy</div>
  <a href="index.html" class="back-btn">← Back to Portfolio</a>
</div>

<!-- Main Content -->
<div class="main-content">
  <div class="login-container">
    <!-- Welcome Section -->
    <div class="welcome-section">
      <h1>Welcome to CureMadeEasy</h1>
      <p>Your comprehensive healthcare platform for managing medical records and patient care with ease and security.</p>
    </div>

    <!-- Auth Toggle -->
    <div class="auth-toggle">
      <button class="toggle-btn active" id="loginToggle">Sign In</button>
      <button class="toggle-btn" id="registerToggle">Sign Up</button>
    </div>

    <!-- Login/Register Section -->
    <div id="authSection">
      <!-- Login Form -->
      <div class="auth-form" id="loginForm">
        <div class="form-group">
          <label for="loginEmail">Email Address</label>
          <input type="email" id="loginEmail" placeholder="Enter your email" required>
        </div>
        <div class="form-group">
          <label for="loginPassword">Password</label>
          <input type="password" id="loginPassword" placeholder="Enter your password" required>
        </div>
        <button class="email-login-btn" id="emailLoginBtn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
          Sign In to CureMadeEasy
        </button>
      </div>
      
      <!-- Register Form -->
      <div class="register-form" id="registerForm">
        <div class="form-group">
          <label for="registerEmail">Email Address</label>
          <input type="email" id="registerEmail" placeholder="Enter your email" required>
        </div>
        <div class="form-group">
          <label for="registerPassword">Password</label>
          <input type="password" id="registerPassword" placeholder="Create a password" required>
          <div class="password-strength" id="passwordStrength"></div>
        </div>
        <div class="form-group">
          <label for="confirmPassword">Confirm Password</label>
          <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
        </div>
        <button class="email-register-btn" id="emailRegisterBtn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
          </svg>
          Create Account
        </button>
      </div>
      
      <div class="divider">
        <span>or</span>
      </div>
      
      <button class="gmail-btn" id="gmailBtn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
          <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
          <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
          <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
        </svg>
        <span id="gmailBtnText">Continue with Gmail</span>
      </button>
    </div>

    <!-- User Info (shown after login) -->
    <div class="user-info" id="userInfo">
      <img class="user-avatar" id="userAvatar" src="" alt="User Avatar">
      <div class="user-name" id="userName"></div>
      <div class="user-email" id="userEmail"></div>
      <div class="success-message">✅ Successfully logged in! Welcome to CureMadeEasy.</div>
      <button class="logout-btn" id="logoutBtn">Logout</button>
    </div>
  </div>
</div>

<!-- FAQ Section -->
<div class="faq-section">
  <div class="faq-container">
    <h2 class="faq-title">Frequently Asked Questions</h2>
    
    <div class="faq-item">
      <button class="faq-question">
        What is CureMadeEasy?
      </button>
      <div class="faq-answer">
        CureMadeEasy is a comprehensive healthcare platform designed to simplify medical record management and enhance patient care. Our platform provides secure, efficient tools for healthcare providers and patients to manage medical information, appointments, and treatment plans.
      </div>
    </div>
    
    <div class="faq-item">
      <button class="faq-question">
        How secure is my medical data?
      </button>
      <div class="faq-answer">
        We take data security very seriously. All medical data is encrypted both in transit and at rest using industry-standard AES-256 encryption. We are HIPAA compliant and undergo regular security audits to ensure your sensitive information remains protected.
      </div>
    </div>
    
    <div class="faq-item">
      <button class="faq-question">
        Who can access my medical records?
      </button>
      <div class="faq-answer">
        Only authorized healthcare providers that you explicitly grant access to can view your medical records. You have complete control over who can see your information, and you can revoke access at any time through your account settings.
      </div>
    </div>
    
    <div class="faq-item">
      <button class="faq-question">
        Can I access CureMadeEasy on mobile devices?
      </button>
      <div class="faq-answer">
        Yes! CureMadeEasy is fully responsive and works seamlessly on desktop, tablet, and mobile devices. We also offer dedicated mobile apps for iOS and Android for convenient access to your healthcare information on the go.
      </div>
    </div>
    
    <div class="faq-item">
      <button class="faq-question">
        How do I create an account?
      </button>
      <div class="faq-answer">
        You can create an account by clicking the "Sign Up" tab above and filling out the registration form with your email and password, or by signing up with your Gmail account. The system includes password strength validation and secure account creation. For healthcare providers, please contact our support team for institutional account setup.
      </div>
    </div>
    
    <div class="faq-item">
      <button class="faq-question">
        Is there customer support available?
      </button>
      <div class="faq-answer">
        Yes, we offer 24/7 customer support through email at support@curemadeeasy.com and live chat during business hours. Our support team is trained to help with both technical issues and healthcare-related questions.
      </div>
    </div>
  </div>
</div>

<!-- Firebase Authentication Script -->
<script>
  // Firebase Configuration - CureMadeEasy Project
  const firebaseConfig = {
    apiKey: "AIzaSyB8W5VEf_7t9qy0WEU6imxyVCgqTbNC7Yw",
    authDomain: "curemadeeasy.firebaseapp.com",
    projectId: "curemadeeasy",
    storageBucket: "curemadeeasy.firebasestorage.app",
    messagingSenderId: "976934114566",
    appId: "1:976934114566:web:1aeb961041884b9a66fa87",
    measurementId: "G-J8500P5VNW"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // DOM Elements
  const authSection = document.getElementById('authSection');
  const userInfo = document.getElementById('userInfo');
  const loginToggle = document.getElementById('loginToggle');
  const registerToggle = document.getElementById('registerToggle');
  const loginForm = document.getElementById('loginForm');
  const registerForm = document.getElementById('registerForm');
  const gmailBtn = document.getElementById('gmailBtn');
  const gmailBtnText = document.getElementById('gmailBtnText');
  const emailLoginBtn = document.getElementById('emailLoginBtn');
  const emailRegisterBtn = document.getElementById('emailRegisterBtn');
  const loginEmail = document.getElementById('loginEmail');
  const loginPassword = document.getElementById('loginPassword');
  const registerEmail = document.getElementById('registerEmail');
  const registerPassword = document.getElementById('registerPassword');
  const confirmPassword = document.getElementById('confirmPassword');
  const passwordStrength = document.getElementById('passwordStrength');
  const logoutBtn = document.getElementById('logoutBtn');
  const userAvatar = document.getElementById('userAvatar');
  const userName = document.getElementById('userName');
  const userEmail = document.getElementById('userEmail');

  // Authentication State Observer
  auth.onAuthStateChanged((user) => {
    if (user) {
      // User is signed in - redirect to dashboard
      console.log('User authenticated, redirecting to dashboard...');
      showNotification('Login successful! Redirecting to your dashboard...', 'success');
      
      // Small delay to show the success message, then redirect
      setTimeout(() => {
        window.location.href = 'dashboard.html';
      }, 1500);
    } else {
      // User is signed out - show login/register forms
      authSection.style.display = 'block';
      userInfo.style.display = 'none';
    }
  });

  // Display User Information
  function displayUserInfo(user) {
    userAvatar.src = user.photoURL || 'https://via.placeholder.com/80';
    userName.textContent = user.displayName || 'User';
    userEmail.textContent = user.email;
  }

  // Gmail Authentication
  async function signInWithGmail() {
    const provider = new firebase.auth.GoogleAuthProvider();
    provider.addScope('email');
    provider.addScope('profile');
    
    try {
      const result = await auth.signInWithPopup(provider);
      console.log('Gmail login successful:', result.user);
      showNotification('Successfully logged in with Gmail!', 'success');
    } catch (error) {
      console.error('Gmail login error:', error);
      showNotification('Gmail login failed: ' + error.message, 'error');
    }
  }

  // Email/Password Authentication - Login
  async function signInWithEmail() {
    const email = loginEmail.value.trim();
    const password = loginPassword.value.trim();
    
    if (!email || !password) {
      showNotification('Please enter both email and password', 'error');
      return;
    }
    
    try {
      const result = await auth.signInWithEmailAndPassword(email, password);
      console.log('Email login successful:', result.user);
      showNotification('Successfully logged in!', 'success');
      // Clear form
      loginEmail.value = '';
      loginPassword.value = '';
    } catch (error) {
      console.error('Email login error:', error);
      // Handle specific error cases
      let errorMessage = 'Login failed: ';
      switch (error.code) {
        case 'auth/user-not-found':
          errorMessage += 'No account found with this email';
          break;
        case 'auth/wrong-password':
          errorMessage += 'Incorrect password';
          break;
        case 'auth/invalid-email':
          errorMessage += 'Invalid email address';
          break;
        case 'auth/too-many-requests':
          errorMessage += 'Too many failed attempts. Please try again later';
          break;
        default:
          errorMessage += error.message;
      }
      showNotification(errorMessage, 'error');
    }
  }

  // Email/Password Authentication - Registration
  async function registerWithEmail() {
    const email = registerEmail.value.trim();
    const password = registerPassword.value.trim();
    const confirmPass = confirmPassword.value.trim();
    
    // Validation
    if (!email || !password || !confirmPass) {
      showNotification('Please fill in all fields', 'error');
      return;
    }
    
    if (password !== confirmPass) {
      showNotification('Passwords do not match', 'error');
      return;
    }
    
    if (password.length < 6) {
      showNotification('Password must be at least 6 characters long', 'error');
      return;
    }
    
    try {
      const result = await auth.createUserWithEmailAndPassword(email, password);
      console.log('Registration successful:', result.user);
      showNotification('Account created successfully! Welcome to CureMadeEasy!', 'success');
      
      // Clear form
      registerEmail.value = '';
      registerPassword.value = '';
      confirmPassword.value = '';
      
      // Switch to login view
      switchToLogin();
      
    } catch (error) {
      console.error('Registration error:', error);
      let errorMessage = 'Registration failed: ';
      switch (error.code) {
        case 'auth/email-already-in-use':
          errorMessage += 'An account with this email already exists';
          break;
        case 'auth/invalid-email':
          errorMessage += 'Invalid email address';
          break;
        case 'auth/weak-password':
          errorMessage += 'Password is too weak';
          break;
        default:
          errorMessage += error.message;
      }
      showNotification(errorMessage, 'error');
    }
  }

  // Form Toggle Functions
  function switchToLogin() {
    loginToggle.classList.add('active');
    registerToggle.classList.remove('active');
    loginForm.style.display = 'flex';
    registerForm.style.display = 'none';
    gmailBtnText.textContent = 'Continue with Gmail';
  }

  function switchToRegister() {
    registerToggle.classList.add('active');
    loginToggle.classList.remove('active');
    registerForm.style.display = 'flex';
    loginForm.style.display = 'none';
    gmailBtnText.textContent = 'Sign up with Gmail';
  }

  // Password Strength Checker
  function checkPasswordStrength(password) {
    const strengthElement = passwordStrength;
    
    if (password.length === 0) {
      strengthElement.style.display = 'none';
      return;
    }
    
    let strength = 0;
    let feedback = '';
    
    // Check length
    if (password.length >= 8) strength++;
    if (password.length >= 12) strength++;
    
    // Check for different character types
    if (/[a-z]/.test(password)) strength++;
    if (/[A-Z]/.test(password)) strength++;
    if (/[0-9]/.test(password)) strength++;
    if (/[^a-zA-Z0-9]/.test(password)) strength++;
    
    // Determine strength level and message
    if (strength < 3) {
      strengthElement.className = 'password-strength weak';
      feedback = 'Weak password. Use at least 8 characters with mixed case, numbers, and symbols.';
    } else if (strength < 5) {
      strengthElement.className = 'password-strength medium';
      feedback = 'Medium strength. Consider adding more variety for better security.';
    } else {
      strengthElement.className = 'password-strength strong';
      feedback = 'Strong password! Great job.';
    }
    
    strengthElement.textContent = feedback;
  }

  // Logout Function
  async function logout() {
    try {
      await auth.signOut();
      console.log('User logged out');
      showNotification('Successfully logged out!', 'success');
    } catch (error) {
      console.error('Logout error:', error);
      showNotification('Logout failed: ' + error.message, 'error');
    }
  }

  // Notification System
  function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    // Auto remove after 3 seconds
    setTimeout(() => {
      notification.style.opacity = '0';
      setTimeout(() => {
        if (document.body.contains(notification)) {
          document.body.removeChild(notification);
        }
      }, 300);
    }, 3000);
  }

  // FAQ Toggle Functionality
  document.querySelectorAll('.faq-question').forEach(question => {
    question.addEventListener('click', () => {
      const answer = question.nextElementSibling;
      const isActive = question.classList.contains('active');
      
      // Close all other FAQs
      document.querySelectorAll('.faq-question').forEach(q => {
        q.classList.remove('active');
        q.nextElementSibling.classList.remove('active');
      });
      
      // Toggle current FAQ
      if (!isActive) {
        question.classList.add('active');
        answer.classList.add('active');
      }
    });
  });

  // Event Listeners
  // Auth toggle buttons
  loginToggle.addEventListener('click', switchToLogin);
  registerToggle.addEventListener('click', switchToRegister);
  
  // Authentication buttons
  gmailBtn.addEventListener('click', signInWithGmail);
  emailLoginBtn.addEventListener('click', signInWithEmail);
  emailRegisterBtn.addEventListener('click', registerWithEmail);
  logoutBtn.addEventListener('click', logout);
  
  // Password strength checker
  registerPassword.addEventListener('input', (e) => {
    checkPasswordStrength(e.target.value);
  });
  
  // Form submission with Enter key
  loginPassword.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      signInWithEmail();
    }
  });
  
  confirmPassword.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      registerWithEmail();
    }
  });
  
  // Real-time password confirmation validation
  confirmPassword.addEventListener('input', (e) => {
    const confirmPass = e.target.value;
    const password = registerPassword.value;
    
    if (confirmPass.length > 0 && password !== confirmPass) {
      e.target.style.borderColor = '#ef4444';
    } else {
      e.target.style.borderColor = '#d1d5db';
    }
  });
</script>

</body>
</html>
